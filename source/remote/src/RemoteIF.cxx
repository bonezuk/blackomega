#include "remote/inc/RemoteIF.h"

//-------------------------------------------------------------------------------------------
namespace omega
{
namespace remote
{
//-------------------------------------------------------------------------------------------
#if defined(OMEGA_WIN32) || defined(OMEGA_LINUX)
//-------------------------------------------------------------------------------------------

bool RemoteIF::isServiceAvailable(const QString& name)
{
    bool res = false;

    if(name=="winlirc_remote")
    {
        res = true;
    }
    return res;
}

//-------------------------------------------------------------------------------------------
#endif
//-------------------------------------------------------------------------------------------
// RemoteEvent
//-------------------------------------------------------------------------------------------

RemoteEvent::RemoteEvent()
{}

//-------------------------------------------------------------------------------------------

RemoteEvent::~RemoteEvent()
{}

//-------------------------------------------------------------------------------------------
// RemoteIF
//-------------------------------------------------------------------------------------------

ABSTRACT_FACTORY_CLASS_IMPL(RemoteIFFactory,RemoteIF)

//-------------------------------------------------------------------------------------------

RemoteIF::RemoteIF(QObject *parent) : QObject(parent),
    m_timer(0)
{}

//-------------------------------------------------------------------------------------------

RemoteIF::~RemoteIF()
{}

//-------------------------------------------------------------------------------------------

bool RemoteIF::setupTimer()
{
    freeTimer();
    m_timer = new QTimer(this);
    QObject::connect(m_timer,SIGNAL(timeout()),this,SLOT(onTimer()));
    return true;
}

//-------------------------------------------------------------------------------------------

void RemoteIF::freeTimer()
{
    if(m_timer!=0)
    {
        QObject::disconnect(m_timer,SIGNAL(timeout()),this,SLOT(onTimer()));
        delete m_timer;
        m_timer = 0;
    }
}

//-------------------------------------------------------------------------------------------

void RemoteIF::startTimer()
{
    m_timer->start(100);
}

//-------------------------------------------------------------------------------------------

void RemoteIF::stopTimer()
{
    m_timer->stop();
}

//-------------------------------------------------------------------------------------------

void RemoteIF::onTimer()
{
    onTimerImplementation();
}

//-------------------------------------------------------------------------------------------

void RemoteIF::playPauseClickSignal()
{
    Q_EMIT playPauseClick();
}

//-------------------------------------------------------------------------------------------

void RemoteIF::previousTrackClickSignal()
{
    Q_EMIT previousTrackClick();
}

//-------------------------------------------------------------------------------------------

void RemoteIF::nextTrackClickSignal()
{
    Q_EMIT nextTrackClick();
}

//-------------------------------------------------------------------------------------------

void RemoteIF::seekBackSignal()
{
    Q_EMIT seekBack();
}

//-------------------------------------------------------------------------------------------

void RemoteIF::seekForwardSignal()
{
    Q_EMIT seekForward();
}

//-------------------------------------------------------------------------------------------

void RemoteIF::volumeDownIncrementSignal()
{
    Q_EMIT volumeDownIncrement();
}

//-------------------------------------------------------------------------------------------

void RemoteIF::volumeDownHoldSignal()
{
    Q_EMIT volumeDownHold();
}

//-------------------------------------------------------------------------------------------

void RemoteIF::volumeUpIncrementSignal()
{
    Q_EMIT volumeUpIncrement();
}

//-------------------------------------------------------------------------------------------

void RemoteIF::volumeUpHoldSignal()
{
    Q_EMIT volumeUpHold();
}

//-------------------------------------------------------------------------------------------
}  // namespace remote
}  // namespace omega
//-------------------------------------------------------------------------------------------
